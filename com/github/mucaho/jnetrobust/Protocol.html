<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_45) on Wed Oct 22 23:03:13 CEST 2014 -->
<TITLE>
Protocol
</TITLE>

<META NAME="date" CONTENT="2014-10-22">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Protocol";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.github.mucaho.jnetrobust</FONT>
<BR>
Class Protocol&lt;T&gt;</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>com.github.mucaho.jnetrobust.Protocol&lt;T&gt;</B>
</PRE>
<DL>
<DT><DT><B>Type Parameters:</B><DD><CODE>T</CODE> - the user data type</DL>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>java.util.Comparator&lt;java.lang.Short&gt;</DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>Protocol&lt;T&gt;</B><DT>extends java.lang.Object<DT>implements java.util.Comparator&lt;java.lang.Short&gt;</DL>
</PRE>

<P>
The central API class that represents the virtual protocol.
 It maintains the state of a virtual protocol instance and
 offers methods to alter that state by wrapping user data with protocol specific metadata. <p></p>
 Various constructors are offered to instantiate a new protocol instance. <p></p>
 Typically you call the protocol's <A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#send(T)"><CODE>send(Object)</CODE></A>
 and <A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#receive(com.github.mucaho.jnetrobust.controller.Packet)"><CODE>receive(Packet)</CODE></A> methods in order to attach/detach protocol-specific information
 to your user data. This protocol-specific information and the protocol's internal state is then used
 to enable reliable & ordered communication even over an unreliable medium. <br></br>
 Note that both <A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#send(T)"><CODE>send(Object)</CODE></A> and <A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#receive(com.github.mucaho.jnetrobust.controller.Packet)"><CODE>receive(Packet)</CODE></A> methods may trigger zero or more
 <A HREF="../../../../com/github/mucaho/jnetrobust/ProtocolListener.html" title="class in com.github.mucaho.jnetrobust"><CODE>listener</CODE></A> events before they return. <br></br>
 How serialization is done and over which medium the <CODE>packaged user-data</CODE> is sent is
 up to the user (analogue for receiving and deserialization). <br></br>
 Note that always the <b>same two protocol instances must communicate with each other</b>, as they share a distributed
 state together. <br></br>
 In order for the protocol to work the user <b>must immediately acknowledge received data</b>, either by sending
 an empty transmission or sending new user-data if it is available. The user may delay doing this, if he is sending
 new data at a <b>fixed interval &lt; 50ms</b>. <br></br>
 The <A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#send(T, java.io.ObjectOutput)"><CODE>send(Object, java.io.ObjectOutput)</CODE></A> & <A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#receive(java.io.ObjectInput)"><CODE>receive(java.io.ObjectInput)</CODE></A>
 are utility methods which automatically write the packaged user-data to a <CODE>ObjectOutput</CODE> or
 read the packaged user-data from a <CODE>ObjectInput</CODE> respectively. Other than that, they behave
 exactly like the <A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#send(T)"><CODE>send(Object)</CODE></A> and <A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#receive(com.github.mucaho.jnetrobust.controller.Packet)"><CODE>receive(Packet)</CODE></A> methods.<p></p>
 This class also offer utility methods to query the <A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#getSmoothedRTT()"><CODE>round-trip time</CODE></A>, as well
 as the <A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#getRTTVariation()"><CODE>round-trip time variation</CODE></A>. <p></p>
 This class also offers the ability to <A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#compare(java.lang.Short, java.lang.Short)"><CODE>compare <code>dataIds</code></CODE></A> against each other. The user <b>must not compare these ids</b> with built-in comparison
 operators. These ids wrap around to their <CODE>min value</CODE> once they are incremented beyond
 their <CODE>max value</CODE>, hence this compare method must be used.
<P>

<P>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#Protocol(com.github.mucaho.jnetrobust.ProtocolConfig)">Protocol</A></B>(<A HREF="../../../../com/github/mucaho/jnetrobust/ProtocolConfig.html" title="class in com.github.mucaho.jnetrobust">ProtocolConfig</A>&lt;<A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html" title="type parameter in Protocol">T</A>&gt;&nbsp;config)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Construct a new protocol instance using the supplied <A HREF="../../../../com/github/mucaho/jnetrobust/ProtocolConfig.html" title="class in com.github.mucaho.jnetrobust"><CODE>protocol configuration</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#Protocol(com.github.mucaho.jnetrobust.ProtocolConfig, com.github.mucaho.jnetrobust.Logger)">Protocol</A></B>(<A HREF="../../../../com/github/mucaho/jnetrobust/ProtocolConfig.html" title="class in com.github.mucaho.jnetrobust">ProtocolConfig</A>&lt;<A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html" title="type parameter in Protocol">T</A>&gt;&nbsp;config,
         <A HREF="../../../../com/github/mucaho/jnetrobust/Logger.html" title="class in com.github.mucaho.jnetrobust">Logger</A>&nbsp;logger)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Construct a new protocol instance using the supplied <A HREF="../../../../com/github/mucaho/jnetrobust/ProtocolConfig.html" title="class in com.github.mucaho.jnetrobust"><CODE>protocol configuration</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#Protocol(com.github.mucaho.jnetrobust.ProtocolListener)">Protocol</A></B>(<A HREF="../../../../com/github/mucaho/jnetrobust/ProtocolListener.html" title="class in com.github.mucaho.jnetrobust">ProtocolListener</A>&lt;<A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html" title="type parameter in Protocol">T</A>&gt;&nbsp;protocolListener)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Construct a new protocol instance using the default <A HREF="../../../../com/github/mucaho/jnetrobust/ProtocolConfig.html" title="class in com.github.mucaho.jnetrobust"><CODE>protocol configuration</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#Protocol(com.github.mucaho.jnetrobust.ProtocolListener, com.github.mucaho.jnetrobust.Logger)">Protocol</A></B>(<A HREF="../../../../com/github/mucaho/jnetrobust/ProtocolListener.html" title="class in com.github.mucaho.jnetrobust">ProtocolListener</A>&lt;<A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html" title="type parameter in Protocol">T</A>&gt;&nbsp;protocolListener,
         <A HREF="../../../../com/github/mucaho/jnetrobust/Logger.html" title="class in com.github.mucaho.jnetrobust">Logger</A>&nbsp;logger)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Construct a new protocol instance using the default <A HREF="../../../../com/github/mucaho/jnetrobust/ProtocolConfig.html" title="class in com.github.mucaho.jnetrobust"><CODE>protocol configuration</CODE></A>.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#compare(java.lang.Short, java.lang.Short)">compare</A></B>(java.lang.Short&nbsp;dataId1,
        java.lang.Short&nbsp;dataId2)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Compare <code>dataIds</code> against each other.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#getRTTVariation()">getRTTVariation</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the round-trip time variance.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#getSmoothedRTT()">getSmoothedRTT</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the round-trip time.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.NavigableMap&lt;java.lang.Short,<A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html" title="type parameter in Protocol">T</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#receive(java.io.ObjectInput)">receive</A></B>(java.io.ObjectInput&nbsp;objectInput)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Convenience method which reads the input of an <CODE>ObjectInput</CODE> with the help of
 internally called <A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#receive(com.github.mucaho.jnetrobust.controller.Packet)"><CODE><code>receive(package)</code></CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.NavigableMap&lt;java.lang.Short,<A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html" title="type parameter in Protocol">T</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#receive(com.github.mucaho.jnetrobust.controller.Packet)">receive</A></B>(com.github.mucaho.jnetrobust.controller.Packet&lt;<A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html" title="type parameter in Protocol">T</A>&gt;&nbsp;packet)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unpackage the packaged user-data, in order to retrieve the user-data that was received, acknowledge sent data and
 receive retransmitted data (if <A HREF="../../../../com/github/mucaho/jnetrobust/ProtocolConfig.html#setShouldRetransmit(boolean)"><CODE>retransmission is enabled</CODE></A>).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map.Entry&lt;java.lang.Short,com.github.mucaho.jnetrobust.controller.Packet&lt;<A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html" title="type parameter in Protocol">T</A>&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#send()">send</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Convenience method does the same as <A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#send(T)"><CODE><code>send(null)</code></CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map.Entry&lt;java.lang.Short,com.github.mucaho.jnetrobust.controller.Packet&lt;<A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html" title="type parameter in Protocol">T</A>&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#send(T)">send</A></B>(<A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html" title="type parameter in Protocol">T</A>&nbsp;data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Package the user-data, in order to transmit the user-data, acknowledge
 received data and retransmit data (if <A HREF="../../../../com/github/mucaho/jnetrobust/ProtocolConfig.html#setShouldRetransmit(boolean)"><CODE>retransmission is enabled</CODE></A>).</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map.Entry&lt;java.lang.Short,com.github.mucaho.jnetrobust.controller.Packet&lt;<A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html" title="type parameter in Protocol">T</A>&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#send(T, java.io.ObjectOutput)">send</A></B>(<A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html" title="type parameter in Protocol">T</A>&nbsp;data,
     java.io.ObjectOutput&nbsp;objectOutput)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Convenience method which writes the output of internally called <A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#send(T)"><CODE><code>send(data)</code></CODE></A>
 to a <CODE>ObjectOutput</CODE>.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.util.Comparator"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from interface java.util.Comparator</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>equals</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="Protocol(com.github.mucaho.jnetrobust.ProtocolListener)"><!-- --></A><H3>
Protocol</H3>
<PRE>
public <B>Protocol</B>(<A HREF="../../../../com/github/mucaho/jnetrobust/ProtocolListener.html" title="class in com.github.mucaho.jnetrobust">ProtocolListener</A>&lt;<A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html" title="type parameter in Protocol">T</A>&gt;&nbsp;protocolListener)</PRE>
<DL>
<DD>Construct a new protocol instance using the default <A HREF="../../../../com/github/mucaho/jnetrobust/ProtocolConfig.html" title="class in com.github.mucaho.jnetrobust"><CODE>protocol configuration</CODE></A>.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>protocolListener</CODE> - the <code>ProtocolListener</code> which will be notified about protocol events</DL>
</DL>
<HR>

<A NAME="Protocol(com.github.mucaho.jnetrobust.ProtocolConfig)"><!-- --></A><H3>
Protocol</H3>
<PRE>
public <B>Protocol</B>(<A HREF="../../../../com/github/mucaho/jnetrobust/ProtocolConfig.html" title="class in com.github.mucaho.jnetrobust">ProtocolConfig</A>&lt;<A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html" title="type parameter in Protocol">T</A>&gt;&nbsp;config)</PRE>
<DL>
<DD>Construct a new protocol instance using the supplied <A HREF="../../../../com/github/mucaho/jnetrobust/ProtocolConfig.html" title="class in com.github.mucaho.jnetrobust"><CODE>protocol configuration</CODE></A>.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>config</CODE> - the <code>protocol configuration</code> which will be used to configure this protocol instance</DL>
</DL>
<HR>

<A NAME="Protocol(com.github.mucaho.jnetrobust.ProtocolListener, com.github.mucaho.jnetrobust.Logger)"><!-- --></A><H3>
Protocol</H3>
<PRE>
public <B>Protocol</B>(<A HREF="../../../../com/github/mucaho/jnetrobust/ProtocolListener.html" title="class in com.github.mucaho.jnetrobust">ProtocolListener</A>&lt;<A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html" title="type parameter in Protocol">T</A>&gt;&nbsp;protocolListener,
                <A HREF="../../../../com/github/mucaho/jnetrobust/Logger.html" title="class in com.github.mucaho.jnetrobust">Logger</A>&nbsp;logger)</PRE>
<DL>
<DD>Construct a new protocol instance using the default <A HREF="../../../../com/github/mucaho/jnetrobust/ProtocolConfig.html" title="class in com.github.mucaho.jnetrobust"><CODE>protocol configuration</CODE></A>.
 Internal state changes will be logged using the supplied <A HREF="../../../../com/github/mucaho/jnetrobust/Logger.html" title="class in com.github.mucaho.jnetrobust"><CODE>logger</CODE></A>.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>protocolListener</CODE> - the <code>ProtocolListener</code> which will be notified about protocol events<DD><CODE>logger</CODE> - the <code>Logger</code> which will be used to track internal state changes</DL>
</DL>
<HR>

<A NAME="Protocol(com.github.mucaho.jnetrobust.ProtocolConfig, com.github.mucaho.jnetrobust.Logger)"><!-- --></A><H3>
Protocol</H3>
<PRE>
public <B>Protocol</B>(<A HREF="../../../../com/github/mucaho/jnetrobust/ProtocolConfig.html" title="class in com.github.mucaho.jnetrobust">ProtocolConfig</A>&lt;<A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html" title="type parameter in Protocol">T</A>&gt;&nbsp;config,
                <A HREF="../../../../com/github/mucaho/jnetrobust/Logger.html" title="class in com.github.mucaho.jnetrobust">Logger</A>&nbsp;logger)</PRE>
<DL>
<DD>Construct a new protocol instance using the supplied <A HREF="../../../../com/github/mucaho/jnetrobust/ProtocolConfig.html" title="class in com.github.mucaho.jnetrobust"><CODE>protocol configuration</CODE></A>.
 Internal state changes will be logged using the supplied <A HREF="../../../../com/github/mucaho/jnetrobust/Logger.html" title="class in com.github.mucaho.jnetrobust"><CODE>logger</CODE></A>.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>config</CODE> - the <code>protocol configuration</code> which will be used to configure this protocol instance<DD><CODE>logger</CODE> - the <code>Logger</code> which will be used to track internal state changes</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="send()"><!-- --></A><H3>
send</H3>
<PRE>
public java.util.Map.Entry&lt;java.lang.Short,com.github.mucaho.jnetrobust.controller.Packet&lt;<A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html" title="type parameter in Protocol">T</A>&gt;&gt; <B>send</B>()</PRE>
<DL>
<DD>Convenience method does the same as <A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#send(T)"><CODE><code>send(null)</code></CODE></A>.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>See Also:</B><DD><A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#send(T)"><CODE>send(null)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="send(java.lang.Object)"><!-- --></A><A NAME="send(T)"><!-- --></A><H3>
send</H3>
<PRE>
public java.util.Map.Entry&lt;java.lang.Short,com.github.mucaho.jnetrobust.controller.Packet&lt;<A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html" title="type parameter in Protocol">T</A>&gt;&gt; <B>send</B>(<A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html" title="type parameter in Protocol">T</A>&nbsp;data)</PRE>
<DL>
<DD>Package the user-data, in order to transmit the user-data, acknowledge
 received data and retransmit data (if <A HREF="../../../../com/github/mucaho/jnetrobust/ProtocolConfig.html#setShouldRetransmit(boolean)"><CODE>retransmission is enabled</CODE></A>).
 <br>
 Zero or more <A HREF="../../../../com/github/mucaho/jnetrobust/ProtocolListener.html#handleUnackedData(short, T)"><CODE>unackedData</CODE></A> events may be fired before
 this method returns.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>data</CODE> - the user-data to package, if it's <code>null</code> no user-data will be contained in the package
<DT><B>Returns:</B><DD>a <code>Map.Entry</code> containing the <CODE>packaged user-data</CODE> and
          the <code>dataId</code> that was assigned to the user-data;
          the returned mapEntry should not be saved by the user,
          as its contents are invalidated next time one of the <code>send</code> methods is called</DL>
</DD>
</DL>
<HR>

<A NAME="send(java.lang.Object,java.io.ObjectOutput)"><!-- --></A><A NAME="send(T, java.io.ObjectOutput)"><!-- --></A><H3>
send</H3>
<PRE>
public java.util.Map.Entry&lt;java.lang.Short,com.github.mucaho.jnetrobust.controller.Packet&lt;<A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html" title="type parameter in Protocol">T</A>&gt;&gt; <B>send</B>(<A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html" title="type parameter in Protocol">T</A>&nbsp;data,
                                                                                                   java.io.ObjectOutput&nbsp;objectOutput)
                                                                                            throws java.io.IOException</PRE>
<DL>
<DD>Convenience method which writes the output of internally called <A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#send(T)"><CODE><code>send(data)</code></CODE></A>
 to a <CODE>ObjectOutput</CODE>.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>objectOutput</CODE> - the object output to write the packaged user-data to
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if there was an error writing to the <code>ObjectOutput</code><DT><B>See Also:</B><DD><A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#send(T)"><CODE><code>send(data)</code></CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="receive(com.github.mucaho.jnetrobust.controller.Packet)"><!-- --></A><H3>
receive</H3>
<PRE>
public java.util.NavigableMap&lt;java.lang.Short,<A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html" title="type parameter in Protocol">T</A>&gt; <B>receive</B>(com.github.mucaho.jnetrobust.controller.Packet&lt;<A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html" title="type parameter in Protocol">T</A>&gt;&nbsp;packet)</PRE>
<DL>
<DD>Unpackage the packaged user-data, in order to retrieve the user-data that was received, acknowledge sent data and
 receive retransmitted data (if <A HREF="../../../../com/github/mucaho/jnetrobust/ProtocolConfig.html#setShouldRetransmit(boolean)"><CODE>retransmission is enabled</CODE></A>).
 <br>
 Zero or more <A HREF="../../../../com/github/mucaho/jnetrobust/ProtocolListener.html#handleOrderedData(short, T)"><CODE>orderedData</CODE></A>,
 <A HREF="../../../../com/github/mucaho/jnetrobust/ProtocolListener.html#handleUnorderedData(short, T)"><CODE>unorderedData</CODE></A> or
 <A HREF="../../../../com/github/mucaho/jnetrobust/ProtocolListener.html#handleAckedData(short, T)"><CODE>ackedData</CODE></A> events may be fired before this method returns.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>packet</CODE> - the packaged-user data to unpackage
<DT><B>Returns:</B><DD>a <code>NavigableMap</code> containing all received (directly received or received by retransmission)
         user-datas and their assigned <code>dataId</code>s;
         the returned object should not be saved by the user,
         as its contents are invalidated next time one of the <code>receive</code> methods is called</DL>
</DD>
</DL>
<HR>

<A NAME="receive(java.io.ObjectInput)"><!-- --></A><H3>
receive</H3>
<PRE>
public java.util.NavigableMap&lt;java.lang.Short,<A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html" title="type parameter in Protocol">T</A>&gt; <B>receive</B>(java.io.ObjectInput&nbsp;objectInput)
                                                  throws java.io.IOException,
                                                         java.lang.ClassNotFoundException</PRE>
<DL>
<DD>Convenience method which reads the input of an <CODE>ObjectInput</CODE> with the help of
 internally called <A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#receive(com.github.mucaho.jnetrobust.controller.Packet)"><CODE><code>receive(package)</code></CODE></A>.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>objectInput</CODE> - the object input to read the packaged user-data from
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if there was an error reading from the <code>ObjectInput</code>
<DD><CODE>java.lang.ClassNotFoundException</CODE> - if the object being read from the <code>ObjectInput</code> is not of the correct type<DT><B>See Also:</B><DD><A HREF="../../../../com/github/mucaho/jnetrobust/Protocol.html#send(T)"><CODE><code>receive(package)</code></CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="compare(java.lang.Short, java.lang.Short)"><!-- --></A><H3>
compare</H3>
<PRE>
public int <B>compare</B>(java.lang.Short&nbsp;dataId1,
                   java.lang.Short&nbsp;dataId2)</PRE>
<DL>
<DD>Compare <code>dataIds</code> against each other. The user <b>must not compare these ids</b> with built-in comparison
 operators. These ids wrap around to their <CODE>min value</CODE> once they are incremented beyond
 their <CODE>max value</CODE>, hence this compare method must be used.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>compare</CODE> in interface <CODE>java.util.Comparator&lt;java.lang.Short&gt;</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>dataId1</CODE> - the first id to compare<DD><CODE>dataId2</CODE> - the second id to compare
<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="getSmoothedRTT()"><!-- --></A><H3>
getSmoothedRTT</H3>
<PRE>
public long <B>getSmoothedRTT</B>()</PRE>
<DL>
<DD>Get the round-trip time. <br></br>
 Updated on receiving acknowledgement of data receipt, using the formula
 <code>RTT_SMOOTHED_AVG = 7/8 * RTT_SMOOTHED_AVG + 1/8 * RTT_NEW</code>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the exponentially smoothed round-trip time</DL>
</DD>
</DL>
<HR>

<A NAME="getRTTVariation()"><!-- --></A><H3>
getRTTVariation</H3>
<PRE>
public long <B>getRTTVariation</B>()</PRE>
<DL>
<DD>Get the round-trip time variance. <br></br>
 Updated on receiving acknowledgement of data receipt, using the formula
 <code> RTT_SMOOTHED_VAR = 3/4 * RTT_SMOOTHED_VAR + 1/4 * |RTT_SMOOTHED_AVG - RTT_NEW|</code>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the exponentially smoothed round-trip time variance</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<HR>

</BODY>
</HTML>
